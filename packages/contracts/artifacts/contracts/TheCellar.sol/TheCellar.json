{
  "_format": "hh-sol-artifact-1",
  "contractName": "TheCellar",
  "sourceName": "contracts/TheCellar.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "initPrice",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "paymentToken_",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "paymentReceiver_",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "epochPeriod_",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "priceMultiplier_",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "minInitPrice_",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "Cellar__DeadlinePassed",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "Cellar__EmptyAssets",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "Cellar__EpochIdMismatch",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "Cellar__EpochPeriodBelowMin",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "Cellar__EpochPeriodExceedsMax",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "Cellar__InitPriceBelowMin",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "Cellar__InitPriceExceedsMax",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "Cellar__MaxPaymentAmountExceeded",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "Cellar__MinInitPriceBelowMin",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "Cellar__MinInitPriceExceedsAbsMaxInitPrice",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "Cellar__PriceMultiplierBelowMin",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "Cellar__PriceMultiplierExceedsMax",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "Cellar__Reentrancy",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        }
      ],
      "name": "OwnableInvalidOwner",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "OwnableUnauthorizedAccount",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        }
      ],
      "name": "SafeERC20FailedOperation",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "buyer",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "assetsReceiver",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "paymentAmount",
          "type": "uint256"
        }
      ],
      "name": "Cellar__Buy",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "ABS_MAX_INIT_PRICE",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "ABS_MIN_INIT_PRICE",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "MAX_EPOCH_PERIOD",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "MAX_PRICE_MULTIPLIER",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "MIN_EPOCH_PERIOD",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "MIN_PRICE_MULTIPLIER",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "PRICE_MULTIPLIER_SCALE",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "assetsReceiver",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "epochId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "deadline",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "maxPaymentTokenAmount",
          "type": "uint256"
        }
      ],
      "name": "buy",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "paymentAmount",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "epochPeriod",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getPrice",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getSlot0",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint8",
              "name": "locked",
              "type": "uint8"
            },
            {
              "internalType": "uint16",
              "name": "epochId",
              "type": "uint16"
            },
            {
              "internalType": "uint192",
              "name": "initPrice",
              "type": "uint192"
            },
            {
              "internalType": "uint40",
              "name": "startTime",
              "type": "uint40"
            }
          ],
          "internalType": "struct TheCellar.Slot0",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "minInitPrice",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "paymentReceiver",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "paymentToken",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "priceMultiplier",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "stateMutability": "payable",
      "type": "receive"
    }
  ],
  "bytecode": "0x610120604052348015610010575f80fd5b5060405162000e6e38038062000e6e8339810160408190526100319161025d565b338061005657604051631e4fbdf760e01b81525f600482015260240160405180910390fd5b61005f816101f3565b508086101561008157604051630660388960e21b815260040160405180910390fd5b6001600160c01b038611156100a95760405163296a646560e11b815260040160405180910390fd5b610e108310156100cc57604051632b1ee4c760e11b815260040160405180910390fd5b6301e133808311156100f157604051634b65983d60e01b815260040160405180910390fd5b670f43fc2c04ee000082101561011a57604051636ca95fa360e11b815260040160405180910390fd5b6729a2241af62c000082111561014357604051637d726ef960e01b815260040160405180910390fd5b620f42408110156101675760405163d171d2f560e01b815260040160405180910390fd5b6001600160c01b0381111561018f5760405163023c2c7560e41b815260040160405180910390fd5b6001805462ffffff1663010000006001600160c01b0398909816979097026001600160d81b031696909617600160d81b4264ffffffffff1602179095556001600160a01b039384166080529190921660a05260c09190915260e052610100526102b1565b5f80546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b80516001600160a01b0381168114610258575f80fd5b919050565b5f805f805f8060c08789031215610272575f80fd5b8651955061028260208801610242565b945061029060408801610242565b9350606087015192506080870151915060a087015190509295509295509295565b60805160a05160c05160e05161010051610b4e620003205f395f81816101a1015281816105d101526105fa01525f8181610360015261058101525f818161029c0152818161087301526108a301525f818161032d015261051901525f818161015601526104f60152610b4e5ff3fe608060405260043610610108575f3560e01c80638fc59c5211610092578063cb37f3b211610062578063cb37f3b21461031c578063d50cb88b1461034f578063efd3315614610382578063f2fde38b14610398578063f6cb1a49146103b7575f80fd5b80638fc59c521461026057806398d5fdca14610277578063b5b7a1841461028b578063c9ae5e0c146102be575f80fd5b80636e5b5b7d116100d85780636e5b5b7d146101de578063715018a6146101f9578063750d48b81461020f57806388f4b49e1461022a5780638da5cb5b14610244575f80fd5b80631622dbe4146101135780633013ce29146101455780633c92276e146101905780635889486e146101c3575f80fd5b3661010f57005b5f80fd5b34801561011e575f80fd5b5061013261012d366004610a66565b6103cc565b6040519081526020015b60405180910390f35b348015610150575f80fd5b506101787f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b03909116815260200161013c565b34801561019b575f80fd5b506101327f000000000000000000000000000000000000000000000000000000000000000081565b3480156101ce575f80fd5b506101326729a2241af62c000081565b3480156101e9575f80fd5b50610132670de0b6b3a764000081565b348015610204575f80fd5b5061020d6106e6565b005b34801561021a575f80fd5b50610132670f43fc2c04ee000081565b348015610235575f80fd5b506101326001600160c01b0381565b34801561024f575f80fd5b505f546001600160a01b0316610178565b34801561026b575f80fd5b506101326301e1338081565b348015610282575f80fd5b506101326106f9565b348015610296575f80fd5b506101327f000000000000000000000000000000000000000000000000000000000000000081565b3480156102c9575f80fd5b506102d261077b565b60405161013c9190815160ff16815260208083015161ffff16908201526040808301516001600160c01b03169082015260609182015164ffffffffff169181019190915260800190565b348015610327575f80fd5b506101787f000000000000000000000000000000000000000000000000000000000000000081565b34801561035a575f80fd5b506101327f000000000000000000000000000000000000000000000000000000000000000081565b34801561038d575f80fd5b50610132620f424081565b3480156103a3575f80fd5b5061020d6103b2366004610a9c565b610814565b3480156103c2575f80fd5b50610132610e1081565b6001545f9060ff166002036103f457604051639462eb7160e01b815260040160405180910390fd5b6001805460ff19166002179055428310156104225760405163062a2fff60e01b815260040160405180910390fd5b475f819003610444576040516309ec4f4160e31b815260040160405180910390fd5b6040805160808101825260015460ff81168252610100810461ffff90811660208401819052630100000083046001600160c01b031694840194909452600160d81b90910464ffffffffff1660608301529091908716146104b757604051634228d63b60e11b815260040160405180910390fd5b6104c081610856565b9250838311156104e35760405163490ad8bb60e11b815260040160405180910390fd5b821561053e5761053e6001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016337f000000000000000000000000000000000000000000000000000000000000000086610904565b6040516001600160a01b0388169083156108fc029084905f818181858888f19350505050158015610571573d5f803e3d5ffd5b505f670de0b6b3a76400006105a67f000000000000000000000000000000000000000000000000000000000000000086610ac9565b6105b09190610ae6565b90506001600160c01b038111156105cf57506001600160c01b0361061a565b7f000000000000000000000000000000000000000000000000000000000000000081101561061a57507f00000000000000000000000000000000000000000000000000000000000000005b60208281018051600190810161ffff16918290526001600160c01b03841660408087018290524264ffffffffff16606088018190528751845460ff90911662ffffff19909116176101009095029490941762ffffff1663010000009092026001600160d81b031691909117600160d81b909302929092179055518581526001600160a01b038a169133917f9995888c83cd01084797e1975830175b29d85dee4dcc8c3a2a7be5367750394c910160405180910390a35050506001805460ff191681179055949350505050565b6106ee610964565b6106f75f610990565b565b6001545f9060ff1660020361072157604051639462eb7160e01b815260040160405180910390fd5b6040805160808101825260015460ff81168252610100810461ffff166020830152630100000081046001600160c01b031692820192909252600160d81b90910464ffffffffff16606082015261077690610856565b905090565b604080516080810182525f80825260208201819052918101829052606081019190915260015460ff166002036107c457604051639462eb7160e01b815260040160405180910390fd5b506040805160808101825260015460ff81168252610100810461ffff166020830152630100000081046001600160c01b031692820192909252600160d81b90910464ffffffffff16606082015290565b61081c610964565b6001600160a01b03811661084a57604051631e4fbdf760e01b81525f60048201526024015b60405180910390fd5b61085381610990565b50565b5f80826060015164ffffffffff164261086f9190610b05565b90507f00000000000000000000000000000000000000000000000000000000000000008111156108a157505f92915050565b7f00000000000000000000000000000000000000000000000000000000000000008184604001516001600160c01b03166108db9190610ac9565b6108e59190610ae6565b83604001516001600160c01b03166108fd9190610b05565b9392505050565b604080516001600160a01b0385811660248301528416604482015260648082018490528251808303909101815260849091019091526020810180516001600160e01b03166323b872dd60e01b17905261095e9085906109df565b50505050565b5f546001600160a01b031633146106f75760405163118cdaa760e01b8152336004820152602401610841565b5f80546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b5f8060205f8451602086015f885af1806109fe576040513d5f823e3d81fd5b50505f513d91508115610a15578060011415610a22565b6001600160a01b0384163b155b1561095e57604051635274afe760e01b81526001600160a01b0385166004820152602401610841565b80356001600160a01b0381168114610a61575f80fd5b919050565b5f805f8060808587031215610a79575f80fd5b610a8285610a4b565b966020860135965060408601359560600135945092505050565b5f60208284031215610aac575f80fd5b6108fd82610a4b565b634e487b7160e01b5f52601160045260245ffd5b8082028115828204841417610ae057610ae0610ab5565b92915050565b5f82610b0057634e487b7160e01b5f52601260045260245ffd5b500490565b81810381811115610ae057610ae0610ab556fea2646970667358221220890f4fb998d817bee40cf5e443a18c856b2502047eb94d786896d9fb379356f464736f6c63430008180033",
  "deployedBytecode": "0x608060405260043610610108575f3560e01c80638fc59c5211610092578063cb37f3b211610062578063cb37f3b21461031c578063d50cb88b1461034f578063efd3315614610382578063f2fde38b14610398578063f6cb1a49146103b7575f80fd5b80638fc59c521461026057806398d5fdca14610277578063b5b7a1841461028b578063c9ae5e0c146102be575f80fd5b80636e5b5b7d116100d85780636e5b5b7d146101de578063715018a6146101f9578063750d48b81461020f57806388f4b49e1461022a5780638da5cb5b14610244575f80fd5b80631622dbe4146101135780633013ce29146101455780633c92276e146101905780635889486e146101c3575f80fd5b3661010f57005b5f80fd5b34801561011e575f80fd5b5061013261012d366004610a66565b6103cc565b6040519081526020015b60405180910390f35b348015610150575f80fd5b506101787f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b03909116815260200161013c565b34801561019b575f80fd5b506101327f000000000000000000000000000000000000000000000000000000000000000081565b3480156101ce575f80fd5b506101326729a2241af62c000081565b3480156101e9575f80fd5b50610132670de0b6b3a764000081565b348015610204575f80fd5b5061020d6106e6565b005b34801561021a575f80fd5b50610132670f43fc2c04ee000081565b348015610235575f80fd5b506101326001600160c01b0381565b34801561024f575f80fd5b505f546001600160a01b0316610178565b34801561026b575f80fd5b506101326301e1338081565b348015610282575f80fd5b506101326106f9565b348015610296575f80fd5b506101327f000000000000000000000000000000000000000000000000000000000000000081565b3480156102c9575f80fd5b506102d261077b565b60405161013c9190815160ff16815260208083015161ffff16908201526040808301516001600160c01b03169082015260609182015164ffffffffff169181019190915260800190565b348015610327575f80fd5b506101787f000000000000000000000000000000000000000000000000000000000000000081565b34801561035a575f80fd5b506101327f000000000000000000000000000000000000000000000000000000000000000081565b34801561038d575f80fd5b50610132620f424081565b3480156103a3575f80fd5b5061020d6103b2366004610a9c565b610814565b3480156103c2575f80fd5b50610132610e1081565b6001545f9060ff166002036103f457604051639462eb7160e01b815260040160405180910390fd5b6001805460ff19166002179055428310156104225760405163062a2fff60e01b815260040160405180910390fd5b475f819003610444576040516309ec4f4160e31b815260040160405180910390fd5b6040805160808101825260015460ff81168252610100810461ffff90811660208401819052630100000083046001600160c01b031694840194909452600160d81b90910464ffffffffff1660608301529091908716146104b757604051634228d63b60e11b815260040160405180910390fd5b6104c081610856565b9250838311156104e35760405163490ad8bb60e11b815260040160405180910390fd5b821561053e5761053e6001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016337f000000000000000000000000000000000000000000000000000000000000000086610904565b6040516001600160a01b0388169083156108fc029084905f818181858888f19350505050158015610571573d5f803e3d5ffd5b505f670de0b6b3a76400006105a67f000000000000000000000000000000000000000000000000000000000000000086610ac9565b6105b09190610ae6565b90506001600160c01b038111156105cf57506001600160c01b0361061a565b7f000000000000000000000000000000000000000000000000000000000000000081101561061a57507f00000000000000000000000000000000000000000000000000000000000000005b60208281018051600190810161ffff16918290526001600160c01b03841660408087018290524264ffffffffff16606088018190528751845460ff90911662ffffff19909116176101009095029490941762ffffff1663010000009092026001600160d81b031691909117600160d81b909302929092179055518581526001600160a01b038a169133917f9995888c83cd01084797e1975830175b29d85dee4dcc8c3a2a7be5367750394c910160405180910390a35050506001805460ff191681179055949350505050565b6106ee610964565b6106f75f610990565b565b6001545f9060ff1660020361072157604051639462eb7160e01b815260040160405180910390fd5b6040805160808101825260015460ff81168252610100810461ffff166020830152630100000081046001600160c01b031692820192909252600160d81b90910464ffffffffff16606082015261077690610856565b905090565b604080516080810182525f80825260208201819052918101829052606081019190915260015460ff166002036107c457604051639462eb7160e01b815260040160405180910390fd5b506040805160808101825260015460ff81168252610100810461ffff166020830152630100000081046001600160c01b031692820192909252600160d81b90910464ffffffffff16606082015290565b61081c610964565b6001600160a01b03811661084a57604051631e4fbdf760e01b81525f60048201526024015b60405180910390fd5b61085381610990565b50565b5f80826060015164ffffffffff164261086f9190610b05565b90507f00000000000000000000000000000000000000000000000000000000000000008111156108a157505f92915050565b7f00000000000000000000000000000000000000000000000000000000000000008184604001516001600160c01b03166108db9190610ac9565b6108e59190610ae6565b83604001516001600160c01b03166108fd9190610b05565b9392505050565b604080516001600160a01b0385811660248301528416604482015260648082018490528251808303909101815260849091019091526020810180516001600160e01b03166323b872dd60e01b17905261095e9085906109df565b50505050565b5f546001600160a01b031633146106f75760405163118cdaa760e01b8152336004820152602401610841565b5f80546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b5f8060205f8451602086015f885af1806109fe576040513d5f823e3d81fd5b50505f513d91508115610a15578060011415610a22565b6001600160a01b0384163b155b1561095e57604051635274afe760e01b81526001600160a01b0385166004820152602401610841565b80356001600160a01b0381168114610a61575f80fd5b919050565b5f805f8060808587031215610a79575f80fd5b610a8285610a4b565b966020860135965060408601359560600135945092505050565b5f60208284031215610aac575f80fd5b6108fd82610a4b565b634e487b7160e01b5f52601160045260245ffd5b8082028115828204841417610ae057610ae0610ab5565b92915050565b5f82610b0057634e487b7160e01b5f52601260045260245ffd5b500490565b81810381811115610ae057610ae0610ab556fea2646970667358221220890f4fb998d817bee40cf5e443a18c856b2502047eb94d786896d9fb379356f464736f6c63430008180033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
